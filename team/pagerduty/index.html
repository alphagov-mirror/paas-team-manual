<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">

    <title>PaaS Team Manual</title>

    <!--[if gt IE 8]><!--><link href="../../stylesheets/screen.css" rel="stylesheet" media="screen" /><!--<![endif]-->
    <!--[if lte IE 8]><link href="../../stylesheets/screen-old-ie.css" rel="stylesheet" media="screen" /><![endif]-->

    <link rel="canonical" href="https://team-manual.cloud.service.gov.uk/team/pagerduty/">


    <link href="../../stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="../../javascripts/application.js"></script>

      <meta property="og:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta property="og:site_name" content="PaaS Team Manual" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://team-manual.cloud.service.gov.uk/team/pagerduty/" />
      <meta property="twitter:card" content="summary" />
      <meta property="twitter:domain" content="team-manual.cloud.service.gov.uk" />
      <meta property="twitter:image" content="https://team-manual.cloud.service.gov.uk/images/govuk-large.png" />
      <meta property="twitter:title" content="PaaS Team Manual" />
      <meta property="twitter:url" content="https://team-manual.cloud.service.gov.uk/team/pagerduty/" />
  </head>

  <body>
    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="skip-link">Skip to main content</a>

        <header class="header header--full-width">
  <div class="header__container">
    <div class="header__brand">
        <a href="https://team-manual.cloud.service.gov.uk">
        <span class="header__title">
          PaaS Team Manual
            <span class="phase-banner">Internal</span>
        </span>
        </a>
    </div>

  </div>
</header>

      </div>

      <div id="toc-heading" class="toc-show fixedsticky">
        <a href="#toc" class="toc-show__label js-toc-show" aria-controls="toc">
          Table of contents <span class="toc-show__icon"></span>
        </a>
      </div>

      <div class="app-pane__body" data-module="in-page-navigation">
        <div class="app-pane__toc">
          <div class="toc" data-module="table-of-contents">
            <a href="#" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></a>
            <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
              <ul>
  <li>
    <a href="#pagerduty">PagerDuty</a>
    <ul>
      <li>
        <a href="#account">Account</a>
      </li>
      <li>
        <a href="#schedules">Schedules</a>
      </li>
      <li>
        <a href="#escalation-policies">Escalation policies</a>
        <ul>
          <li>
            <a href="#in-hours-only">In hours only</a>
          </li>
          <li>
            <a href="#24x7">24x7</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#services">Services</a>
      </li>
      <li>
        <a href="#manage-rota">Manage rota</a>
        <ul>
          <li>
            <a href="#add-remove-from-rota">Add/remove from rota</a>
          </li>
          <li>
            <a href="#temporary-change">Temporary change</a>
          </li>
          <li>
            <a href="#swap">Swap</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="#respond-to-incidents">Respond to incidents</a>
      </li>
    </ul>
  </li>
</ul>

            </nav>
          </div>
        </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              <div class="page-banner">
    <p>This is for internal use by the PaaS team. Public-facing documentation is located at <a href="https://docs.cloud.service.gov.uk">docs.cloud.service.gov.uk</a>.</p>
  </div>

  <h1 id="pagerduty">PagerDuty</h1>
<p>The team uses <a href="https://www.pagerduty.com/">PagerDuty</a> to be notified of platform issues.</p>
<h2 id="account">Account</h2>
<p>Our team account is called <a href="https://governmentdigitalservice.pagerduty.com/">gds-paas</a>.</p>

<p>The account owner sets up individual users who authenticate via username (email) / password. All users are administrators.</p>

<p>Users are invited to add their telephone number(s) to their profile to be able to receive the notifications. Only high-urgency notification rules are used.</p>

<p>There is also a team user called &ldquo;PaaS team&rdquo; that is used to send email notifications to the team. Its credentials are stored in the credentials repository.</p>
<h2 id="schedules">Schedules</h2>
<p>Each schedule represents a set of times when we want to be notified and the list of people that may be notified, one at a time.</p>

<p>We have 3 schedules:</p>

<ul>
<li>In hours support</li>
<li>Out of hours support</li>
<li>Out of hours escalation</li>
</ul>
<h2 id="escalation-policies">Escalation policies</h2>
<p>We have created 2 escalation policies. Depending on the gravity of the incident, we may want to be alerted only during office hours, or all the time including out of hours.</p>
<h3 id="in-hours-only">In hours only</h3>
<p>This creates a single notification for who is on call at that moment. If the alert happens outside of office hours, it falls through to the team email and creates an incident that can be checked the next day.</p>
<h3 id="24x7">24x7</h3>
<p>This policy uses the in hours schedule first. When out of hours, the alert falls through immediately to the out of hours schedule. Failing that, the escalation schedule is used.
The team email notification is added at the end as well to cover any potential gap in the schedules.</p>
<h2 id="services">Services</h2>
<p>We integrate with Pingdom and Datadog. For each integration we create one <em>in hours</em> service that uses the in hours only escalation policy, and one <em>24x7</em> service that uses the 24x7 escalation policy.</p>

<p>A special service called <em>Emergency email</em> is dedicated to urgent platform issues impacting tenants. Sending an email to it triggers a ZenDesk ticket to be created and an incident in PagerDuty. The incident is attached to the <em>24x7</em> escalation policy.</p>

<p>For all services, incidents are not auto resolved and only high-urgency notification rules are used.</p>
<h2 id="manage-rota">Manage rota</h2><h3 id="add-remove-from-rota">Add/remove from rota</h3>
<p>Edit the schedule and add the user to the list of users. Be careful as it may change the other users&rsquo; schedule. Don&rsquo;t forget to click <code>Save changes</code>.</p>
<h3 id="temporary-change">Temporary change</h3>
<p>Overrides can be used to temporary replace a default user from the rota with another user. The original rota remains unchanged and PagerDuty reverts to it at the end of the override.</p>

<p>To schedule an override, click on <code>Schedule an override</code> on the right handside. It will then be listed under <code>Upcoming overrides</code> on the right handside and can be removed from there.</p>
<h3 id="swap">Swap</h3>
<p>When a user has planned vacation for example, it is better to swap their shift with another user. If user1 wants to swap a shift with user2, create a user2 override for user1&rsquo;s shift, and a user1 override for user2&rsquo;s shift. The 2 shift should be <em>exactly the same duration</em>.</p>

<p>Tip: click on the shift you want to override and select <code>Schedule an override</code> from the drop-down menu.</p>
<h2 id="respond-to-incidents">Respond to incidents</h2>
<p>As soon as a notification is received by the user, they should acknowledge the incident. It can be done directly on the phone or via the incidents web page.</p>

<p>If the incident is not resolved it will return to Triggered state after 30min and will alert the same user again.</p>

<p>When the incident is resolved, add a brief note to log what happened.</p>


            
          </main>


          <footer class="footer">
  <div class="footer__licence">
    <a class="footer__licence-logo" href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence</a>
    <p class="footer__licence-description">All content is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence v3.0</a>, except where otherwise stated</p>
  </div>

  <div class="footer__copyright">
    <a class="footer__copyright-logo" href="http://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/copyright-and-re-use/crown-copyright/">Â© Crown copyright</a>
  </div>
</footer>

        </div>
      </div>
    </div>

    
  </body>
</html>
